from telegram import Update, ReactionTypeEmoji
from telegram.ext import ContextTypes
import random

REACTIONS = ["ğŸ‘", "ğŸ‘", "â¤ï¸", "ğŸ”¥", "ğŸ¥°", "ğŸ‘", "ğŸ˜", "ğŸ¤”", "ğŸ¤¯", "ğŸ˜±", "ğŸ¤¬", "ğŸ˜¢", "ğŸ‰", "ğŸ¤©", "ğŸ¤®", "ğŸ’©", "ğŸ™", "ğŸ‘Œ"]


async def react_to_message(update: Update, context: ContextTypes.DEFAULT_TYPE):
    if update.message and random.random() < 0.25:  # 50% Ğ²ĞµÑ€Ğ¾ÑÑ‚Ğ½Ğ¾ÑÑ‚ÑŒ
        # Ğ’Ñ‹Ğ±Ğ¸Ñ€Ğ°ĞµĞ¼ ÑĞ»ÑƒÑ‡Ğ°Ğ¹Ğ½ÑƒÑ Ñ€ĞµĞ°ĞºÑ†Ğ¸Ñ
        reaction = random.choice(REACTIONS)

        # Ğ£ÑÑ‚Ğ°Ğ½Ğ°Ğ²Ğ»Ğ¸Ğ²Ğ°ĞµĞ¼ Ñ€ĞµĞ°ĞºÑ†Ğ¸Ñ Ğ½Ğ° Ğ¿Ğ¾Ğ»ÑƒÑ‡ĞµĞ½Ğ½Ğ¾Ğµ ÑĞ¾Ğ¾Ğ±Ñ‰ĞµĞ½Ğ¸Ğµ
        await context.bot.set_message_reaction(
            chat_id=update.message.chat_id,
            message_id=update.message.message_id,
            reaction=[ReactionTypeEmoji(emoji=reaction)]
        )